{"ast":null,"code":"import{useContext}from'react';import{ExpenseTrackerContext}from'./context/context';import{incomeCategories,expenseCategories,resetCategories}from'./constants/categories';var useTransactions=function useTransactions(title){resetCategories();var _useContext=useContext(ExpenseTrackerContext),transactions=_useContext.transactions;var rightTransactions=transactions.filter(function(t){return t.type===title;});var total=rightTransactions.reduce(function(acc,currVal){return acc+=currVal.amount;},0);var categories=title==='Income'?incomeCategories:expenseCategories;rightTransactions.forEach(function(t){var category=categories.find(function(c){return c.type===t.category;});if(category)category.amount+=t.amount;});var filteredCategories=categories.filter(function(sc){return sc.amount>0;});var chartData={datasets:[{data:filteredCategories.map(function(c){return c.amount;}),backgroundColor:filteredCategories.map(function(c){return c.color;})}],labels:filteredCategories.map(function(c){return c.type;})};return{filteredCategories:filteredCategories,total:total,chartData:chartData};};export default useTransactions;","map":{"version":3,"sources":["C:/Users/hp/Desktop/Projects/Expense-Tracker/src/useTransactions.js"],"names":["useContext","ExpenseTrackerContext","incomeCategories","expenseCategories","resetCategories","useTransactions","title","transactions","rightTransactions","filter","t","type","total","reduce","acc","currVal","amount","categories","forEach","category","find","c","filteredCategories","sc","chartData","datasets","data","map","backgroundColor","color","labels"],"mappings":"AAAA,OAASA,UAAT,KAA2B,OAA3B,CACA,OAASC,qBAAT,KAAsC,mBAAtC,CAEA,OAASC,gBAAT,CAA2BC,iBAA3B,CAA8CC,eAA9C,KAAqE,wBAArE,CAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAW,CACjCF,eAAe,GACf,gBAAyBJ,UAAU,CAACC,qBAAD,CAAnC,CAAQM,YAAR,aAAQA,YAAR,CACA,GAAMC,CAAAA,iBAAiB,CAAGD,YAAY,CAACE,MAAb,CAAoB,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACC,IAAF,GAAWL,KAAlB,EAApB,CAA1B,CACA,GAAMM,CAAAA,KAAK,CAAGJ,iBAAiB,CAACK,MAAlB,CAAyB,SAACC,GAAD,CAAMC,OAAN,QAAkBD,CAAAA,GAAG,EAAIC,OAAO,CAACC,MAAjC,EAAzB,CAAkE,CAAlE,CAAd,CACA,GAAMC,CAAAA,UAAU,CAAGX,KAAK,GAAK,QAAV,CAAqBJ,gBAArB,CAAwCC,iBAA3D,CAEAK,iBAAiB,CAACU,OAAlB,CAA0B,SAACR,CAAD,CAAO,CAC/B,GAAMS,CAAAA,QAAQ,CAAGF,UAAU,CAACG,IAAX,CAAgB,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACV,IAAF,GAAWD,CAAC,CAACS,QAApB,EAAhB,CAAjB,CAEA,GAAIA,QAAJ,CAAcA,QAAQ,CAACH,MAAT,EAAmBN,CAAC,CAACM,MAArB,CACf,CAJD,EAMA,GAAMM,CAAAA,kBAAkB,CAAGL,UAAU,CAACR,MAAX,CAAkB,SAACc,EAAD,QAAQA,CAAAA,EAAE,CAACP,MAAH,CAAY,CAApB,EAAlB,CAA3B,CAEA,GAAMQ,CAAAA,SAAS,CAAG,CAChBC,QAAQ,CAAE,CAAC,CACTC,IAAI,CAAEJ,kBAAkB,CAACK,GAAnB,CAAuB,SAACN,CAAD,QAAOA,CAAAA,CAAC,CAACL,MAAT,EAAvB,CADG,CAETY,eAAe,CAAEN,kBAAkB,CAACK,GAAnB,CAAuB,SAACN,CAAD,QAAOA,CAAAA,CAAC,CAACQ,KAAT,EAAvB,CAFR,CAAD,CADM,CAKhBC,MAAM,CAAER,kBAAkB,CAACK,GAAnB,CAAuB,SAACN,CAAD,QAAOA,CAAAA,CAAC,CAACV,IAAT,EAAvB,CALQ,CAAlB,CAQA,MAAO,CAAEW,kBAAkB,CAAlBA,kBAAF,CAAsBV,KAAK,CAALA,KAAtB,CAA6BY,SAAS,CAATA,SAA7B,CAAP,CACD,CAxBD,CA0BA,cAAenB,CAAAA,eAAf","sourcesContent":["import { useContext } from 'react';\r\nimport { ExpenseTrackerContext } from './context/context';\r\n\r\nimport { incomeCategories, expenseCategories, resetCategories } from './constants/categories';\r\n\r\nconst useTransactions = (title) => {\r\n  resetCategories();\r\n  const { transactions } = useContext(ExpenseTrackerContext);\r\n  const rightTransactions = transactions.filter((t) => t.type === title);\r\n  const total = rightTransactions.reduce((acc, currVal) => acc += currVal.amount, 0);\r\n  const categories = title === 'Income' ? incomeCategories : expenseCategories;\r\n\r\n  rightTransactions.forEach((t) => {\r\n    const category = categories.find((c) => c.type === t.category);\r\n\r\n    if (category) category.amount += t.amount;\r\n  });\r\n\r\n  const filteredCategories = categories.filter((sc) => sc.amount > 0);\r\n\r\n  const chartData = {\r\n    datasets: [{\r\n      data: filteredCategories.map((c) => c.amount),\r\n      backgroundColor: filteredCategories.map((c) => c.color),\r\n    }],\r\n    labels: filteredCategories.map((c) => c.type),\r\n  };\r\n\r\n  return { filteredCategories, total, chartData };\r\n};\r\n\r\nexport default useTransactions;\r\n"]},"metadata":{},"sourceType":"module"}